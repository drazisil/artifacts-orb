commands:
  prepare-artifacts-dir:
    description: Prepare and set artifacts directory path
    parameters:
      artifacts-path:
        default: ~/artifacts
        description: The path to store artifacts
        type: string
    steps:
    - run:
        command: |
          mkdir -p << parameters.artifacts-path >>
          echo "export ARTIFACTS_PATH=<< parameters.artifacts-path >>" >> $BASH_ENV
        name: Create artifacts path
    - run:
        command: |
          echo $ARTIFACTS_PATH
        name: Echo artifacts path
  upload-artifacts-group:
    description: Upload several artifacts at once.
    parameters:
      artifacts-group:
        default: $ARTIFACTS_PATH
        type: string
    steps:
    - run:
        command: |
          mkdir -p ~/artifacts
          if [ << parameters.artifacts-group >> != ~/artifacts ]; then cp -r << parameters.artifacts-group >> ~/artifacts; fi
        name: Prepare artifacts group for upload
        when: always
    - store_artifacts:
        name: Upload artifacts group
        path: ~/artifacts
        when: always
description: Artifacts upload manager
examples: {}
executors: {}
jobs: {}
orbs: null
version: 2.1

